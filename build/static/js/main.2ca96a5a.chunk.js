(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{38:function(e,t,n){e.exports=n(67)},43:function(e,t,n){},44:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(18),c=n.n(o),i=(n(43),n(44),n(12)),l=n(5),u=n(15),s=n(14),m=n(13),p=n.n(m),g=n(11),d=Object(s.b)((function(e){return{user:e.user,isLoading:e.isLoading,err:e.error}}),{loginAction:function(e){return function(t){return t({type:"LOGIN_START"}),console.log(e),p.a.post("https://africa-marketplace.herokuapp.com/auth/login",e).then((function(e){return localStorage.setItem("token",e.data.token),console.log(e),t({type:"LOGIN_SUCCESS",payload:e.data})})).catch((function(e){t({type:"LOGIN_FAILURE",payload:e})}))}}})((function(e){var t=Object(a.useState)({username:"",password:""}),n=Object(u.a)(t,2),o=n[0],c=n[1],s=function(e){e.preventDefault(),c(Object(l.a)({},o,Object(i.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.loginAction(o)}},r.a.createElement("label",null," Username",r.a.createElement("input",{name:"username",type:"text",placeholder:"User Name",onChange:s})),r.a.createElement("label",null," Password",r.a.createElement("input",{name:"password",type:"password",placeholder:"Password",onChange:s})),r.a.createElement("button",{type:"submit"},"Sign in")),r.a.createElement("div",null,r.a.createElement("h3",null,"Don't have an Account?"),r.a.createElement(g.b,{to:"/register"}," Register Here")))})),E=Object(s.b)((function(e){return{isRegistrating:e.isRegistrating,err:e.err}}),{registerAction:function(e){return function(t){return t({type:"REGISTER_START"}),p.a.post("https://africa-marketplace.herokuapp.com/auth/register/",e).then((function(e){t({type:"REGISTER_SUCCESS",payload:e.data}),console.log(e)})).catch((function(e){t({type:"REGISTER_FAILURE",payload:e})}))}}})((function(e){var t=Object(a.useState)({username:"",password:""}),n=Object(u.a)(t,2),o=n[0],c=n[1],s=function(e){e.preventDefault(),c(Object(l.a)({},o,Object(i.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.registerAction(o)}},r.a.createElement("label",null," Set a Username",r.a.createElement("input",{type:"text",name:"username",onChange:s})),r.a.createElement("label",null," Set a Password",r.a.createElement("input",{type:"password",name:"password",onChange:s})),r.a.createElement("button",{type:"submit"},"Sign Up")),r.a.createElement("h5",null,"Already have an account?"),r.a.createElement(g.b,{to:"/login"},"Log In"))})),f=n(37),b=n(10),h=function(e){var t=e.component,n=Object(f.a)(e,["component"]);return r.a.createElement(b.b,Object.assign({},n,{render:function(e){return localStorage.getItem("token")?r.a.createElement(t,e):r.a.createElement(b.a,{to:"/login"})}}))},S=function(){var e=Object(a.useState)(),t=Object(u.a)(e,2),n=(t[0],t[1]);return Object(a.useEffect)((function(){p.a.get("https://africa-marketplace.herokuapp.com/item").then((function(e){n(e.data),console.log(e.data)})).catch((function(e){return console.log(e)}))}),[]),r.a.createElement("div",null)};var v=function(){return r.a.createElement(g.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(b.b,{exact:!0,path:"/login",component:d}),r.a.createElement(b.b,{path:"/register",component:E}),r.a.createElement(h,{path:"/item",component:S})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var O=n(16),R=n(36),y={user:[],isLoading:!1,err:""},j={isRegistrating:"",err:""},I=Object(O.c)({loginReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.payload){case"LOGIN_START":return Object(l.a)({},e,{isLoading:!0});case"LOGIN_SUCCESS":return Object(l.a)({},e,{isLoading:!1,user:t.payload});case"LOGIN_FAILURE":return Object(l.a)({},e,{isLoading:!1,err:t.payload});default:return e}},registerReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER_START":return Object(l.a)({},e,{isRegistrating:!0});case"REGISTER_SUCCESS":return Object(l.a)({},e,{isRegistrating:!1,user:t.payload});case"REGISTER_FAILURE":return Object(l.a)({},e,{isRegistrating:!1,err:t.payload});default:return e}}}),w=Object(O.d)(I,Object(O.a)(R.a));c.a.render(r.a.createElement(s.a,{store:w},r.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[38,1,2]]]);
//# sourceMappingURL=main.2ca96a5a.chunk.js.map